@import url('./tokens.css');

:root {
  --motion-scale-achievement: 0.92;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 1ms !important;
    scroll-behavior: auto !important;
  }
}

@keyframes button-press {
  0% { transform: translateY(0) scale(1); }
  40% { transform: translateY(1px) scale(0.97); }
  100% { transform: translateY(0) scale(1); }
}

@keyframes menu-slide {
  0% { transform: translateY(-12px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes menu-fade {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes achievement-pop {
  0% { transform: scale(var(--motion-scale-achievement)); opacity: 0; filter: brightness(0.7); }
  70% { transform: scale(1.04); opacity: 1; filter: brightness(1.2); }
  100% { transform: scale(1); opacity: 1; filter: brightness(1); }
}

@keyframes gold-glint {
  0% { background-position: 120% 0; }
  100% { background-position: -20% 0; }
}

@keyframes shimmer-hover {
  0% { mask-position: 150% 0; }
  100% { mask-position: -50% 0; }
}

@keyframes mote-float {
  0% { transform: translate3d(0,0,0); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translate3d(0,-40px,0); opacity: 0; }
}

.mote-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.mote {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(62,165,227,0.9), rgba(62,165,227,0));
  animation: mote-float var(--duration-slow) var(--easing-gentle) infinite;
  animation-delay: calc(var(--index) * -0.5s);
}

@media (prefers-reduced-motion: reduce) {
  .mote {
    animation: none;
    opacity: 0.2;
  }
}

.btn[data-animate='press'] {
  animation: button-press var(--duration-fast) var(--easing-spring);
}

.menu-enter {
  animation: menu-slide var(--duration-moderate) var(--easing-gentle), menu-fade var(--duration-fast) ease;
}

.gold-shimmer {
  position: relative;
}

.gold-shimmer::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(120deg, rgba(255,255,255,0), rgba(255,255,255,0.45), rgba(255,255,255,0));
  mask-image: linear-gradient(120deg, rgba(0,0,0,0) 40%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 60%);
  mask-size: 200% 100%;
  animation: shimmer-hover 2.4s linear infinite;
  pointer-events: none;
}

@media (prefers-reduced-motion: reduce) {
  .gold-shimmer::after {
    animation: none;
    opacity: 0.18;
  }
}
